<!-- 

This HTML file provides a simple GUI for interacting with a blockchain system. 
It includes functionality for creating new transactions, mining blocks, and viewing the blockchain.

Sections:
1. New Transaction:
    - Allows the user to input sender, recipient, and amount for a new transaction.
    - A "Send" button triggers the `sendTransaction` function to send the transaction to the backend.

2. Mine Block:
    - A "Mine Block" button triggers the `mine` function to mine a new block in the blockchain.

3. Blockchain:
    - A "Get Chain" button triggers the `getChain` function to fetch and display the current blockchain.

JavaScript Functions:
- `sendTransaction()`: 
  Sends a POST request to the `/transactions/new` endpoint with transaction details (sender, recipient, amount, and a random order number).
  Alerts the user with the server's response.

- `mine()`: 
  Sends a GET request to the `/mine` endpoint to mine a new block.
  Alerts the user with the index of the newly mined block.

- `getChain()`: 
  Sends a GET request to the `/chain` endpoint to fetch the current blockchain.
  Displays the blockchain in a formatted JSON structure inside the `<pre>` element with the ID `chain`.

Dependencies:
- The backend server is expected to run on `http://localhost:5001`.
- The backend should expose the following endpoints:
  1. POST `/transactions/new` - To create a new transaction.
  2. GET `/mine` - To mine a new block.
  3. GET `/chain` - To retrieve the blockchain.

Usage:
- Open this file in a browser.
- Use the provided input fields and buttons to interact with the blockchain system.
-->


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Blockchain GUI</title>
</head>
<body>
  <h1>Blockchain GUI</h1>

  <h3>New Transaction</h3>
  <input id="sender" placeholder="Sender">
  <input id="recipient" placeholder="Recipient">
  <input id="amount" placeholder="Amount">
  <button onclick="sendTransaction()">Send</button>

  <h3>Mine Block</h3>
  <button onclick="mine()">Mine Block</button>

  <h3>Blockchain</h3>
  <button onclick="getChain()">Get Chain</button>
  <pre id="chain"></pre>

  <script>
    const baseURL = "http://localhost:5001";

    function sendTransaction() {
      const data = {
        sender: document.getElementById("sender").value,
        recipient: document.getElementById("recipient").value,
        amount: parseInt(document.getElementById("amount").value),
        order: Math.floor(Math.random() * 100000)
      };
      fetch(baseURL + "/transactions/new", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      }).then(res => res.json()).then(alert);
    }

    function mine() {
      fetch(baseURL + "/mine")
        .then(res => res.json())
        .then(data => alert("Block mined: " + data.index));
    }

    function getChain() {
      fetch(baseURL + "/chain")
        .then(res => res.json())
        .then(data => {
          document.getElementById("chain").textContent = JSON.stringify(data.chain, null, 2);
        });
    }
  </script>
</body>
</html>
